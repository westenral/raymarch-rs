Sample render output:
![](image.png)

The surface normal calculation is incorrect; this is what causes the strange shading on the rightmost shape.
